<!DOCTYPE html>

<html lang="pt-BR">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Painel Administrativo - Gabriel Mário Adv</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Open+Sans:wght@400;600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script defer src="https://unpkg.com/alpinejs@3.13.5/dist/cdn.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>

</head>

<body class="bg-gray-50 font-sans">
    <!-- Cabeçalho Admin -->
    <nav class="bg-primary/90 backdrop-blur">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <img src="/assets/img/logo-dourada-transparente.webp" alt="Admin" class="h-16">
                <span class="text-gold font-semibold">Painel de Artigos</span>
            </div>
            <button @click="logout()" class="text-gold hover:text-accent">
                <i class="fas fa-sign-out-alt mr-2"></i>Sair
            </button>
        </div>
    </nav>

    <!-- Conteúdo Principal -->
    <main class="container mx-auto px-4 py-8">
        <!-- Botão Novo Artigo -->
        <div class="mb-8 flex justify-end">
            <button @click="newPost()" class="bg-accent text-white px-6 py-2 rounded-lg hover:bg-gold transition">
                <i class="fas fa-plus mr-2"></i>Novo Artigo
            </button>
        </div>

        <!-- Lista de Artigos (Container essencial) -->
        <div id="postsList" class="grid gap-6"></div>

        <!-- Modal de Edição -->
        <div id="editModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center">

            <div class="bg-white rounded-xl p-8 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto">

                <form id="postForm" class="space-y-6">

                    <div class="grid md:grid-cols-2 gap-6">

                        <div>

                            <label class="block text-gray-700 mb-2">Título</label>

                            <input type="text" id="postTitle" required
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-accent">

                        </div>

                        <div>

                            <label class="block text-gray-700 mb-2">Categoria</label>

                            <select id="postCategory" required
                                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-accent">

                                <option value="Direito Médico">Direito Médico</option>

                                <option value="Direito Imobiliário">Direito Imobiliário</option>

                                <option value="Direito Previdenciário">Direito Previdenciário</option>

                                <option value="Direito Civil">Direito Civil</option>

                                <option value="Direito do Trabalho">Direito do Trabalho</option>

                            </select>

                        </div>

                    </div>

                    <div>

                        <label class="block text-gray-700 mb-2">Resumo</label>

                        <textarea id="postExcerpt" required rows="3"
                            class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-accent"></textarea>

                    </div>

                    <div>

                        <label class="block text-gray-700 mb-2">Conteúdo</label>

                        <textarea id="postContent" required rows="10"
                            class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-accent"></textarea>

                    </div>

                    <div class="mb-4">

                        <label class="block text-gray-700 mb-2">Imagem de Capa:</label>

                        <input type="file" id="imageUpload" accept="image/*"
                            class="w-full file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-accent file:text-white hover:file:bg-gold">

                        <img id="thumbPreview" src="placeholder.jpg" class="mt-2 rounded-lg w-48 h-32 object-cover">

                    </div>

                    <div class="flex justify-end space-x-4">

                        <button type="button" onclick="cancelEdit()"
                            class="px-6 py-2 text-gray-600 hover:text-accent">Cancelar</button>

                        <button type="submit"
                            class="bg-accent text-white px-6 py-2 rounded-lg hover:bg-gold transition">

                            Salvar Artigo

                        </button>

                    </div>

                </form>

            </div>

        </div>

    </main>

    <script src="/assets/js/admin.js"></script>

</body>

</html>