<script>
    document.addEventListener('DOMContentLoaded', async () => {
      const loadPost = async () => {
        try {
          const response = await fetch('/blog/posts.json');
          const data = await response.json();
          const postId = new URLSearchParams(window.location.search).get('id');
          const post = data.posts.find(p => p.id === postId);
    
          if(post) {
            document.title = post.title + ' | Gabriel Mário Adv';
            document.getElementById('post-content').innerHTML = `
              <div class="mb-8">
                <img src="${post.thumbnail}" alt="${post.title}" class="rounded-lg shadow-xl w-full h-64 object-cover">
              </div>
              <h1 class="font-serif text-3xl md:text-4xl text-accent mb-4">${post.title}</h1>
              <div class="flex items-center text-sm text-gray-600 mb-6">
                <span class="mr-4"><i class="fas fa-calendar-alt mr-2"></i>${post.date}</span>
                <span class="bg-accent/10 text-accent px-3 py-1 rounded-full">${post.category}</span>
              </div>
              <div class="prose max-w-none">${post.content}</div>
            `;
          }
        } catch (error) {
          console.error('Erro ao carregar artigo:', error);
          document.getElementById('post-content').innerHTML = `
            <div class="text-center py-12">
              <h2 class="text-2xl text-accent mb-4">Artigo não encontrado</h2>
              <p class="text-gray-600">O artigo solicitado não está disponível no momento.</p>
            </div>
          `;
        }
      };
    
      loadPost();
    });
    </script>